  :root{
    --bg:#f7f9fc; --card:#fff; --accent:#6b46c1; --accent2:#ec4899; /* pink */
     --accent3:#3b82f6; /* blue */
     --accent-bg:#f9f7ff; /* soft background */
    --muted:#6b7280;
    --max-width:980px;
    font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
  body{
    margin:0; background:linear-gradient(180deg,#f3f6fb 0%,var(--bg) 100%);
    color:#0f172a; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  }
  .wrap{max-width:var(--max-width);margin:28px auto;padding:20px;}
  header{display:flex;gap:18px;align-items:center}
  header h1{margin:0;font-size:20px}
  .intro{display:flex;gap:20px;margin-top:18px}
  .left{flex:1}
  .right{width:320px;background:var(--card);padding:16px;border-radius:12px;box-shadow:0 6px 20px rgba(15,23,42,0.06)}
  nav{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
  .nav-btn{background:transparent;border:1px solid rgba(11,22,39,0.06);padding:8px 12px;border-radius:10px;cursor:pointer}
  /* Add below .nav-btn */
.nav-btn.active{
  background: linear-gradient(90deg,var(--accent),#8b5cf6);
  color: #fff;
  border: none;
  box-shadow: 0 8px 24px rgba(107,70,193,0.12);
}

/* About learning bite blocks */
/* Elegant bite blocks with animation */
.about-block .bite {
  padding: 14px;
  border-radius: 12px;
  margin-bottom: 12px;
  cursor: pointer;
  background: linear-gradient(135deg, #fdfbff, #f3f4ff);
  border: 1px solid rgba(107,70,193,0.15);
  box-shadow: 0 4px 12px rgba(107,70,193,0.05);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}
.about-block .bite:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(107,70,193,0.1);
}
.about-block .bite .title {
  font-weight: 600;
  margin-bottom: 6px;
}
.about-block .bite .content {
  max-height: 0;
  opacity: 0;
  overflow: hidden;
  margin-top: 0;
  transition: all 0.4s ease;
}
.about-block .bite.open .content {
  max-height: 500px; /* large enough to fit text */
  opacity: 1;
  margin-top: 8px;
}

/* Animate quiz progress bar smoothly */
.progress > div {
  height: 100%;
  width: 0;
  background: linear-gradient(90deg, var(--accent), #a78bfa);
  transition: width 0.6s ease-in-out;
}

/* Animate option selection */
.opt {
  transition: all 0.25s ease;
}
.opt:hover {
  background: #f4f0ff;
  border-color: #a78bfa;
}
.opt.selected {
  transform: scale(1.05);
  box-shadow: 0 4px 10px rgba(107,70,193,0.15);
}

/* Animate cards appearing */
.card {
  animation: fadeInUp 0.5s ease both;
}
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Buttons */
button.primary, button.ghost {
  transition: transform 0.15s ease, background 0.3s ease;
}
button.primary:hover {
  transform: scale(1.05);
  background: linear-gradient(90deg, var(--accent), #8b5cf6);
}
button.ghost:hover {
  transform: scale(1.05);
  border-color: #a78bfa;
}

.about-block .bite .title{ font-weight:600; margin-bottom:6px }
.about-block .bite .content{ display:none; margin-top:8px; color:var(--muted); font-size:14px }
.about-block .bite.open .content{ display:block }

  .card{background:var(--card);padding:18px;border-radius:12px;box-shadow:0 8px 30px rgba(11,22,39,0.04);margin-bottom:12px}
  h2{margin:0 0 12px 0}
  .muted{color:var(--muted);font-size:14px}
  .resources a{display:block;margin:6px 0;color:var(--accent);text-decoration:none}
  /* quiz */
  #quizArea{margin-top:8px}
  .stage{display:none}
  .stage.active{display:block}
  .question{margin:12px 0;padding:12px;border-radius:8px;background:#fbfdff;border:1px solid rgba(11,22,39,0.03)}
  .opts{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
  .opt{padding:8px 10px;border-radius:8px;border:1px solid rgba(11,22,39,0.06);cursor:pointer;user-select:none}
  .opt.selected{background:linear-gradient(90deg,var(--accent),#8b5cf6);color:white;border:none}
  .controls{display:flex;justify-content:space-between;gap:8px;margin-top:14px}
  button.primary{background:var(--accent);color:white;border:none;padding:10px 14px;border-radius:10px;cursor:pointer}
  button.ghost{background:transparent;border:1px solid rgba(11,22,39,0.06);padding:8px 12px;border-radius:10px;cursor:pointer}
  .progress{height:10px;background:#eef2ff;border-radius:999px;overflow:hidden;margin-top:10px}
  .progress > div{height:100%;width:0;background:linear-gradient(90deg,var(--accent),#8b5cf6)}
  .results{padding:16px;border-radius:10px;background:#f9fafb}
  .badge{display:inline-block;padding:6px 10px;border-radius:999px;background:#eef2ff;color:var(--accent);font-weight:600;margin-right:8px}
  footer{margin-top:18px;font-size:13px;color:var(--muted)}
  /* responsive */
  @media(max-width:820px){ .intro{flex-direction:column} .right{width:100%} }
  /* ---------- UI MOTION & FINISH — append to bottom of CSS ---------- */

/* Subtle animated background blobs (feint, elegant) */
body::before{
  content: "";
  position: fixed;
  left: -10%;
  top: -20%;
  width: 140vw;
  height: 120vh;
  background: radial-gradient(600px 400px at 10% 10%, rgba(107,70,193,0.06), transparent 10%),
              radial-gradient(400px 300px at 90% 90%, rgba(99,102,241,0.04), transparent 12%),
              radial-gradient(300px 240px at 70% 30%, rgba(236,72,153,0.02), transparent 10%);
  pointer-events: none;
  z-index: 0;
  transform: translate3d(0,0,0);
  animation: floatBackground 18s linear infinite;
  mix-blend-mode: soft-light;
}
@keyframes floatBackground{
  0%{ transform: translateY(0) rotate(0deg) }
  50%{ transform: translateY(6px) rotate(2deg) }
  100%{ transform: translateY(0) rotate(0deg) }
}

/* Make sure main content sits above the background layer */
.wrap{ position: relative; z-index: 1; }

/* Nav button micro-interactions + focus */
nav .nav-btn{
  position: relative;
  overflow: visible;
  will-change: transform, box-shadow;
  transition: transform 180ms cubic-bezier(.2,.9,.25,1), box-shadow 220ms ease, background 260ms ease;
}
nav .nav-btn:hover{ transform: translateY(-3px); box-shadow: 0 8px 20px rgba(99,102,241,0.08); }
nav .nav-btn:active{ transform: translateY(-1px) scale(0.995); }
nav .nav-btn:focus{ outline: none; box-shadow: 0 0 0 4px rgba(107,70,193,0.08); border-color: rgba(107,70,193,0.18); }

/* subtle underline indicator */
nav .nav-btn::after{
  content:'';
  position:absolute;
  left:14%;
  right:14%;
  bottom:6px;
  height:3px;
  border-radius:6px;
  background: linear-gradient(90deg,var(--accent), #a78bfa);
  transform: scaleX(0);
  transform-origin: left center;
  transition: transform 340ms cubic-bezier(.2,.9,.25,1), opacity 220ms;
  opacity: 0;
}
nav .nav-btn.active::after{ transform: scaleX(1); opacity: 1; }

/* Card focus & outline for clarity */
.card{
  border: 1px solid rgba(99,102,241,0.04);
  transition: transform 260ms ease, box-shadow 260ms ease, border-color 220ms;
  will-change: transform, box-shadow;
  position: relative;
  z-index: 1;
}
.card:hover{ transform: translateY(-4px); box-shadow: 0 18px 40px rgba(15,23,42,0.06); border-color: rgba(107,70,193,0.06); }
.card:focus-within{ box-shadow: 0 20px 50px rgba(99,102,241,0.06); border-color: rgba(107,70,193,0.12); }

/* ABOUT bite: override earlier display:none usage so we get transitions.
   We intentionally use max-height+opacity transitions and mark aria-expanded for accessibility. */
.about-block .bite .content{
  display: block !important;         /* ensure content is present in flow (overrides earlier display:none) */
  max-height: 0;
  opacity: 0;
  transform-origin: top;
  overflow: hidden;
  padding-top: 0;
  transition: max-height 420ms cubic-bezier(.2,.9,.25,1), opacity 360ms ease, padding-top 300ms ease;
  color: var(--muted);
  font-size: 14px;
}
.about-block .bite.open .content,
.about-block .bite[aria-expanded="true"] .content{
  max-height: 480px;
  opacity: 1;
  padding-top: 8px;
}

/* Add a chevron indicator that rotates on open */
.about-block .bite { position: relative; padding-right: 44px; }
.about-block .bite::after{
  content: "▾";
  position: absolute;
  right: 16px;
  top: 18px;
  font-size: 14px;
  color: rgba(11,22,39,0.35);
  transition: transform 320ms cubic-bezier(.2,.9,.25,1), color 220ms;
}
.about-block .bite.open::after,
.about-block .bite[aria-expanded="true"]::after{ transform: rotate(-180deg); color: var(--accent); }

/* Smooth progress bar shimmer and completion pulse */
.progress { position: relative; overflow: hidden; }
.progress > div {
  background-image:
    linear-gradient(90deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0.25) 50%, rgba(255,255,255,0.08) 100%),
    linear-gradient(90deg, var(--accent), #a78bfa);
  background-blend-mode: overlay;
  background-size: 200% 100%, 100% 100%;
  animation: shimmer 2.4s linear infinite;
  transition: width 700ms cubic-bezier(.2,.9,.25,1);
  box-shadow: inset 0 -6px 14px rgba(107,70,193,0.08);
  border-radius: 999px;
}
@keyframes shimmer {
  0%{ background-position: -40% 0, 0 0; }
  100%{ background-position: 140% 0, 0 0; }
}
/* "Complete" pulse when progress at 100% - use a selector when width==100% via attribute in JS if desired.
   Fallback: tiny pulse animation on the bar element always to feel alive */
.progress > div::after{
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 999px;
  box-shadow: 0 6px 22px rgba(107,70,193,0.06);
  pointer-events: none;
}

/* Options: tactile feedback, subtle icon on selected */
.opt{
  position: relative;
  transition: transform 180ms cubic-bezier(.2,.9,.25,1), box-shadow 220ms, background 220ms, border-color 220ms;
  will-change: transform, box-shadow;
}
.opt:hover{ transform: translateY(-3px); box-shadow: 0 8px 18px rgba(99,102,241,0.06); border-color: rgba(107,70,193,0.12); background: #fbf8ff; }
.opt:active{ transform: translateY(-1px) scale(0.997); }
.opt:focus{ outline: none; box-shadow: 0 0 0 4px rgba(107,70,193,0.06); }

/* selected marker */
.opt.selected{
  background: linear-gradient(90deg,var(--accent),#8b5cf6);
  color: #fff;
  border: none;
  transform: translateY(-4px) scale(1.03);
  box-shadow: 0 16px 32px rgba(107,70,193,0.12);
}
.opt.selected::after{
  content: "✓";
  position: absolute;
  right: 8px;
  top: 8px;
  background: rgba(0,0,0,0.08);
  color: white;
  width:20px;height:20px;border-radius:50%;
  display:flex;align-items:center;justify-content:center;font-size:12px;
  backdrop-filter: blur(2px);
  transform: translateZ(0);
}

/* Stage / score label micro-animations to call attention on change */
#stageLabel, #scoreLabel{
  transition: transform 260ms ease, color 260ms ease;
  will-change: transform;
}
#stageLabel.updated, #scoreLabel.updated{
  transform: translateY(-4px) scale(1.02);
  color: var(--accent);
}

/* Results badges and list animations */
.results .badge{
  animation: badge-pop 420ms cubic-bezier(.2,.9,.25,1) both;
}
@keyframes badge-pop{
  0%{ transform: scale(0.86); opacity: 0; }
  60%{ transform: scale(1.05); opacity: 1; }
  100%{ transform: scale(1); opacity: 1; }
}
.results ul li{
  transform-origin: left;
  animation: slideIn 520ms ease both;
  margin-bottom:6px;
}
@keyframes slideIn{
  from{ transform: translateX(-8px); opacity: 0; }
  to{ transform: translateX(0); opacity: 1; }
}

/* subtle text emphasis for links and resource items */
.resources a{
  position: relative;
  display: inline-block;
  padding-bottom: 2px;
  transition: transform 180ms ease, color 180ms ease;
}
.resources a:hover{ transform: translateY(-2px); color: #5b21b6; text-decoration: underline; }

/* Accessibility: keyboard-visible outlines for interactive elements */
button:focus, .nav-btn:focus, .opt:focus, .bite:focus{
  outline: none;
  box-shadow: 0 0 0 5px rgba(99,102,241,0.06);
  border-radius: 10px;
}

/* Reduce motion preference respect */
@media (prefers-reduced-motion: reduce){
  * { animation-duration: 0.001ms !important; animation-iteration-count: 1 !important; transition-duration: 0.001ms !important; scroll-behavior: auto !important; }
}

/* Small helper for more contrast in high-contrast contexts */
@media (forced-colors: active){
  .opt.selected{ background: Highlight; color: HighlightText; }
  .nav-btn.active{ background: Highlight; color: HighlightText; box-shadow: none; }
}

/* Footer */
.site-footer{
  background: linear-gradient(180deg,#f8faff 0%,#f3f6fb 100%);
  margin-top: 40px;
  border-top: 1px solid rgba(107,70,193,0.08);
  padding: 32px 20px 20px;
  font-size: 14px;
  color: var(--muted);
}
.site-footer .footer-content{
  max-width: var(--max-width);
  margin: 0 auto;
  display: flex;
  flex-wrap: wrap;
  gap: 28px;
}
.site-footer .footer-col{ flex:1 1 220px; min-width:200px; }
.site-footer strong{ color: var(--accent); display:block; margin-bottom:6px; }
.site-footer ul{ list-style:none; padding:0; margin:0; }
.site-footer li{ margin-bottom:6px; }
.site-footer a{ color: var(--accent); text-decoration:none; transition: color 0.2s ease; }
.site-footer a:hover{ text-decoration:underline; color:#5b21b6; }
.footer-bottom{
  margin-top: 20px;
  text-align: center;
  font-size: 12px;
  color: #9ca3af;
}
