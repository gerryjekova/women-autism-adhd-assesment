<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Women & Autism — Awareness + Self-Assessment</title>
<style>
  :root{
    --bg:#f7f9fc; --card:#fff; --accent:#6b46c1; --muted:#6b7280;
    --max-width:980px;
    font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }
  body{
    margin:0; background:linear-gradient(180deg,#f3f6fb 0%,var(--bg) 100%);
    color:#0f172a; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  }
  .wrap{max-width:var(--max-width);margin:28px auto;padding:20px;}
  header{display:flex;gap:18px;align-items:center}
  header h1{margin:0;font-size:20px}
  .intro{display:flex;gap:20px;margin-top:18px}
  .left{flex:1}
  .right{width:320px;background:var(--card);padding:16px;border-radius:12px;box-shadow:0 6px 20px rgba(15,23,42,0.06)}
  nav{display:flex;gap:8px;flex-wrap:wrap;margin-top:10px}
  .nav-btn{background:transparent;border:1px solid rgba(11,22,39,0.06);padding:8px 12px;border-radius:10px;cursor:pointer}
  .card{background:var(--card);padding:18px;border-radius:12px;box-shadow:0 8px 30px rgba(11,22,39,0.04);margin-bottom:12px}
  h2{margin:0 0 12px 0}
  .muted{color:var(--muted);font-size:14px}
  .resources a{display:block;margin:6px 0;color:var(--accent);text-decoration:none}
  /* quiz */
  #quizArea{margin-top:8px}
  .stage{display:none}
  .stage.active{display:block}
  .question{margin:12px 0;padding:12px;border-radius:8px;background:#fbfdff;border:1px solid rgba(11,22,39,0.03)}
  .opts{display:flex;gap:8px;flex-wrap:wrap;margin-top:8px}
  .opt{padding:8px 10px;border-radius:8px;border:1px solid rgba(11,22,39,0.06);cursor:pointer;user-select:none}
  .opt.selected{background:linear-gradient(90deg,var(--accent),#8b5cf6);color:white;border:none}
  .controls{display:flex;justify-content:space-between;gap:8px;margin-top:14px}
  button.primary{background:var(--accent);color:white;border:none;padding:10px 14px;border-radius:10px;cursor:pointer}
  button.ghost{background:transparent;border:1px solid rgba(11,22,39,0.06);padding:8px 12px;border-radius:10px;cursor:pointer}
  .progress{height:10px;background:#eef2ff;border-radius:999px;overflow:hidden;margin-top:10px}
  .progress > div{height:100%;width:0;background:linear-gradient(90deg,var(--accent),#8b5cf6)}
  .results{padding:16px;border-radius:10px;background:#f9fafb}
  .badge{display:inline-block;padding:6px 10px;border-radius:999px;background:#eef2ff;color:var(--accent);font-weight:600;margin-right:8px}
  footer{margin-top:18px;font-size:13px;color:var(--muted)}
  /* responsive */
  @media(max-width:820px){ .intro{flex-direction:column} .right{width:100%} }
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <h1>Women & Autism — Awareness + Self-Assessment</h1>
        <div class="muted">A gentle screening tool and curated resource hub (not a diagnosis).</div>
      </div>
    </header>

    <div class="intro">
      <div class="left">
        <div class="card">
          <h2>About this page</h2>
          <div class="muted">
            This page is designed for women and AFAB people who suspect autistic traits, want structured self-reflection, and curated links to reliable resources. The self-assessment runs in 8 stages (one at a time) and scores each stage separately. After completing all 8 stages you'll get a combined score, a probability estimate, and suggested subtype/manifestation matches based on which areas were highest.
          </div>
          <nav>
            <button class="nav-btn" onclick="showSection('about')">About</button>
            <button class="nav-btn" onclick="showSection('quiz')">Take the Assessment</button>
            <button class="nav-btn" onclick="showSection('resources')">Resources</button>
            <button class="nav-btn" onclick="showSection('guidance')">Next Steps</button>
          </nav>
        </div>

        <div id="quizContainer" class="card" style="display:block">
          <h2>Self-Assessment — 8 Stages (one at a time)</h2>
          <div class="muted">You will see short blocks of questions. Answer honestly. Options are 0 (Never) → 4 (Very Often). Each stage saves separately.</div>

          <div id="quizArea">
            <!-- Stages will be injected by JS -->
          </div>

          <div style="margin-top:12px">
            <div class="progress"><div id="progressBar"></div></div>
            <div style="display:flex;justify-content:space-between;margin-top:8px">
              <div class="muted" id="stageLabel">Stage 0 / 8</div>
              <div class="muted" id="scoreLabel">Total points: 0</div>
            </div>
          </div>

        </div>

        <div id="finalCard" class="card" style="display:none">
          <h2>Final Result</h2>
          <div id="finalSummary" class="results">
            <!-- results injected -->
          </div>
          <div style="margin-top:12px">
            <button class="primary" onclick="restart()">Retake assessment</button>
            <button class="ghost" onclick="downloadReport()">Download basic report</button>
          </div>
        </div>
      </div>

      <aside class="right">
        <div class="muted card">
          <strong>Quick links</strong>
          <div class="resources" style="margin-top:10px">
            <!-- authoritative resources -->
            <a href="https://www.autism.org.uk" target="_blank" rel="noopener">National Autistic Society (UK)</a>
            <a href="https://www.nhs.uk/conditions/autism/" target="_blank" rel="noopener">NHS — Autism</a>
            <a href="https://awnnetwork.org/" target="_blank" rel="noopener">Autistic Women & Nonbinary Network (AWN)</a>
            <a href="https://www.cdc.gov/ncbddd/autism/" target="_blank" rel="noopener">CDC — Autism</a>
            <a href="https://www.healthline.com/health/autism-in-women" target="_blank" rel="noopener">Healthline — Autism in women</a>
          </div>
        </div>

        <div class="card muted">
          <strong>How to use these results</strong>
          <ul style="padding-left:18px;margin:10px 0">
            <li>Screening only — not a clinical diagnosis.</li>
            <li>If results are elevated, consider discussing with a GP or specialist.</li>
            <li>Take notes on childhood development & examples to bring to appointments.</li>
          </ul>
        </div>

        <div class="card muted">
          <strong>About scoring & staging</strong>
          <div style="margin-top:8px">This tool divides screening into targeted areas: social communication, restricted/repetitive behaviour, executive function/ADHD traits, female-specific manifestations (masking, hormonal impacts), sensory/co-occurring features, burnout/energy, masking strategies, and life impact — each stage scored separately to reflect area-specific patterns. (Based on your provided materials.)</div>
        </div>

        <div class="card muted">
          <strong>Source note</strong>
          <div style="margin-top:8px">Assessment sections and scoring approach were drawn from compiled materials you provided in your upload. :contentReference[oaicite:1]{index=1}</div>
        </div>
      </aside>
    </div>

    <div id="resources" class="card" style="display:none">
      <h2>Resources & Further Reading</h2>
      <div class="muted">
        Links below are curated from reputable organizations and from the uploaded source material; they cover assessment routes, support groups, female-focused information, and co-occurring ADHD resources. :contentReference[oaicite:2]{index=2}
      </div>
      <div style="margin-top:12px" class="resources">
        <a href="https://www.autism.org.uk" target="_blank" rel="noopener">National Autistic Society — Women & girls</a>
        <a href="https://www.nhs.uk/conditions/autism/" target="_blank" rel="noopener">NHS — Getting diagnosed & support</a>
        <a href="https://awnnetwork.org/" target="_blank" rel="noopener">Autistic Women & Nonbinary Network</a>
        <a href="https://adhduk.co.uk/" target="_blank" rel="noopener">ADHD UK (co-occurring info)</a>
        <a href="https://www.healthline.com/health/autism-in-women" target="_blank" rel="noopener">Healthline — Autism in women overview</a>
      </div>
    </div>

    <div id="guidance" class="card" style="display:none">
      <h2>Next steps & practical guidance</h2>
      <div class="muted">
        If screening indicates elevated traits:
        <ol>
          <li>Gather developmental history (childhood examples) and any school/medical reports.</li>
          <li>Take your report to your GP or a clinical psychologist experienced in adult autism assessments.</li>
          <li>Consider local support groups (AWN, NAS) and peer networks for lived-experience guidance.</li>
        </ol>
      </div>
      <div style="margin-top:10px" class="muted">
        Note: co-occurring ADHD is common; assessment pathways should consider both conditions together for accurate formulation. :contentReference[oaicite:3]{index=3}
      </div>
    </div>

    <footer>
      If you want changes — question wording, different scoring, or localised resource links — say which and I’ll update the single HTML file.
    </footer>
  </div>

<script>
/* Data model: 8 stages — each stage has a key, title, and short questions.
   Questions use a 0..4 scale.
   Stage-level scoring stored in `stageScores`.
   Final mapping: choose subtype/manifestation based on which stage(s) are highest.
*/

const stages = [
  {
    key: 'social',
    title: 'Stage 1 — Social Communication & Interaction',
    descr: 'Questions about social reciprocity, reading cues, conversation flow.',
    qs: [
      'I find it hard to start or keep conversations going.',
      'I often misunderstand others\' emotions or facial expressions.',
      'I prefer to be alone rather than socialising.',
      'I take things very literally and miss implied meanings.',
      'I find group interactions overwhelming or exhausting.'
    ]
  },
  {
    key: 'rrb',
    title: 'Stage 2 — Restricted & Repetitive Behaviours / Interests',
    descr: 'Repetitive behaviours, intense interests, strict routines.',
    qs: [
      'I have long-standing intense interests that dominate my thinking.',
      'I prefer strict routines and get very upset when they change.',
      'I perform repetitive movements or behaviours when stressed.',
      'I fixate on specific patterns, facts or objects for long periods.',
      'I spend more time on special interests than on other tasks.'
    ]
  },
  {
    key: 'exec',
    title: 'Stage 3 — Executive Function / ADHD-related',
    descr: 'Attention, organisation, task initiation and follow-through.',
    qs: [
      'I struggle to start tasks even when I want to.',
      'I often lose track of important details or forget appointments.',
      'I find organizing and planning tasks very difficult.',
      'I get distracted easily by unrelated stimuli.',
      'I find it hard to switch between tasks or multitask.'
    ]
  },
  {
    key: 'female',
    title: 'Stage 4 — Female-specific Manifestations & Masking',
    descr: 'Masking, compensatory strategies, hormonal impact.',
    qs: [
      'I consciously imitate others to appear "normal" in social situations.',
      'I prepare scripts or rehearsed phrases for conversations.',
      'I hide stimming or autistic behaviours to fit in.',
      'My symptoms fluctuate with my hormonal cycle.',
      'I work much harder than peers to appear competent.'
    ]
  },
  {
    key: 'sensory',
    title: 'Stage 5 — Sensory & Co-occurring Features',
    descr: 'Sensory sensitivities and other overlapping conditions.',
    qs: [
      'I am overwhelmed by bright lights, strong smells or loud noises.',
      'Certain textures or food textures bother me intensely.',
      'I notice subtle sensory details that others miss.',
      'Sensory input causes physical symptoms (headache, nausea).',
      'I have sleep or eating issues linked to sensory input or stress.'
    ]
  },
  {
    key: 'burnout',
    title: 'Stage 6 — Autistic Burnout & Energy',
    descr: 'Burnout, exhaustion from masking/overload.',
    qs: [
      'I have experienced long periods of extreme fatigue not fixed by rest.',
      'My tolerance for social interaction has reduced over time.',
      'I have lost skills that I used to do easily (e.g., multitasking).',
      'I have more frequent meltdowns or shutdowns than before.',
      'I require long recovery time after social events or stressful periods.'
    ]
  },
  {
    key: 'masking',
    title: 'Stage 7 — Masking Strategies / Life Impact',
    descr: 'How often and how strongly you mask; consequences.',
    qs: [
      'I hide my true feelings to avoid standing out.',
      'I rehearse facial expressions or responses before social events.',
      'Masking leaves me exhausted or anxious afterwards.',
      'I adapt different personas for different social contexts.',
      'I avoid asking for help because I fear judgement.'
    ]
  },
  {
    key: 'impact',
    title: 'Stage 8 — Functional Impact & Support Needs',
    descr: 'How traits affect work, relationships, and daily living.',
    qs: [
      'My traits significantly affect my work or academic performance.',
      'I need special adaptations to cope in daily life.',
      'Relationships are significantly strained by my communication differences.',
      'I have needed professional help for anxiety/depression linked to these traits.',
      'I would like a formal diagnostic assessment if possible.'
    ]
  }
];

// state
let currentStage = 0;
const stageScores = new Array(stages.length).fill(0);
const stageMax = stages.map(s => s.qs.length * 4);
let answers = {}; // answers[stageKey] = [val,...]

function createStageHTML(i, s){
  const container = document.createElement('div');
  container.className = 'stage';
  container.id = 'stage-'+i;

  const title = document.createElement('h3');
  title.textContent = s.title;
  container.appendChild(title);

  const desc = document.createElement('div');
  desc.className = 'muted';
  desc.style.marginBottom = '8px';
  desc.textContent = s.descr;
  container.appendChild(desc);

  // questions
  s.qs.forEach((q, qi) => {
    const qdiv = document.createElement('div');
    qdiv.className = 'question';
    qdiv.dataset.qIndex = qi;

    const qtext = document.createElement('div');
    qtext.textContent = (qi+1) + '. ' + q;
    qdiv.appendChild(qtext);

    const opts = document.createElement('div');
    opts.className = 'opts';
    // options 0..4
    for(let val=0; val<=4; val++){
      const b = document.createElement('div');
      b.className = 'opt';
      b.dataset.value = val;
      b.innerHTML = `<strong>${val}</strong><div class="muted" style="font-size:12px">${val===0? 'Never' : val===1? 'Rarely' : val===2? 'Sometimes' : val===3? 'Often' : 'Very Often'}</div>`;
      b.onclick = () => selectAnswer(s.key, qi, val, b);
      opts.appendChild(b);
    }
    qdiv.appendChild(opts);
    container.appendChild(qdiv);
  });

  const controls = document.createElement('div');
  controls.className = 'controls';
  const back = document.createElement('button'); back.className = 'ghost'; back.textContent = 'Back';
  back.onclick = prevStage;
  const next = document.createElement('button'); next.className = 'primary'; next.textContent = 'Next';
  next.onclick = () => nextStage(true);
  controls.appendChild(back);
  controls.appendChild(next);
  container.appendChild(controls);

  return container;
}

function mountQuiz(){
  const area = document.getElementById('quizArea');
  area.innerHTML = '';
  stages.forEach((s,i) => {
    const st = createStageHTML(i,s);
    area.appendChild(st);
  });
  showStage(0);
  updateProgress();
}

function showStage(i){
  const all = document.querySelectorAll('.stage');
  all.forEach((el, idx) => {
    el.classList.toggle('active', idx===i);
  });
  currentStage = i;
  document.getElementById('stageLabel').textContent = `Stage ${i+1} / ${stages.length}`;
  updateScoreLabel();
  // show/hide final card
  document.getElementById('finalCard').style.display = 'none';
  document.getElementById('quizContainer').style.display = 'block';
  updateProgress();
}

function selectAnswer(stageKey, qIndex, val, element){
  answers[stageKey] = answers[stageKey] || [];
  answers[stageKey][qIndex] = val;
  // flip selected style for that question
  const qDiv = element.closest('.question');
  qDiv.querySelectorAll('.opt').forEach(op => op.classList.remove('selected'));
  element.classList.add('selected');
  // compute stage score
  const sIndex = stages.findIndex(s => s.key===stageKey);
  const arr = answers[stageKey] || [];
  const sum = arr.reduce((a,b)=>a+(typeof b==='number'?b:0),0);
  stageScores[sIndex] = sum;
  updateScoreLabel();
}

function updateScoreLabel(){
  const total = stageScores.reduce((a,b)=>a+b,0);
  document.getElementById('scoreLabel').textContent = `Total points: ${total}`;
}

function updateProgress(){
  const completed = Object.keys(answers).length; // rough
  const pct = Math.round(((currentStage)/ (stages.length)) * 100);
  document.getElementById('progressBar').style.width = `${Math.round((currentStage/stages.length)*100)}%`;
}

function prevStage(){
  if(currentStage>0) showStage(currentStage-1);
}

function nextStage(requireComplete){
  const s = stages[currentStage];
  const a = answers[s.key] || [];
  const unanswered = s.qs.some((q, qi) => typeof a[qi] !== 'number');
  if(requireComplete && unanswered){
    if(!confirm('Some questions are unanswered in this stage. Continue anyway?')) return;
  }
  if(currentStage < stages.length -1){
    showStage(currentStage+1);
  } else {
    // finished
    finishAssessment();
  }
}

/* After all stages: aggregate and infer probability and subtype */
function finishAssessment(){
  // ensure every stage has at least zeros
  stages.forEach((s,i) => { answers[s.key] = answers[s.key] || new Array(s.qs.length).fill(0); stageScores[i] = answers[s.key].reduce((a,b)=>a+(typeof b==='number'?b:0),0); });

  const totalPoints = stageScores.reduce((a,b)=>a+b,0);
  const maxTotal = stageMax.reduce((a,b)=>a+b,0);
  const percent = Math.round((totalPoints / maxTotal) * 100);

  // Determine which areas are relatively high (>= 60% of that stage)
  const highAreas = [];
  stages.forEach((s,i)=>{
    const score = stageScores[i];
    const pct = Math.round((score / stageMax[i]) * 100);
    if(pct >= 60) highAreas.push({key:s.key,title:s.title,pct});
  });

  // Simple mapping to subtype/manifestation suggestions
  let subtype = 'Mixed/Unspecified';
  if(highAreas.find(a=>a.key==='female') && highAreas.find(a=>a.key==='masking')) subtype = 'Female-presenting autism (masking common)';
  else if(highAreas.find(a=>a.key==='social') && highAreas.find(a=>a.key==='rrb')) subtype = 'Autism with classic social & RRB features';
  else if(highAreas.find(a=>a.key==='exec') && highAreas.find(a=>a.key==='sensory')) subtype = 'Autism with prominent ADHD / executive function features';
  else if(highAreas.find(a=>a.key==='sensory')) subtype = 'Sensory-dominant presentation (sensory processing differences)';
  else if(highAreas.find(a=>a.key==='burnout')) subtype = 'Autistic burnout / high masking-related exhaustion';

  // Probability guidance (screening heuristic, not a diagnostic probability)
  let probabilityLabel = 'Low likelihood';
  if(percent >= 70) probabilityLabel = 'High likelihood — consider professional assessment';
  else if(percent >= 40) probabilityLabel = 'Moderate likelihood — monitor and consider seeking professional input';
  else probabilityLabel = 'Low likelihood — traits present but below common thresholds';

  // Build result HTML
  const resEl = document.getElementById('finalSummary');
  resEl.innerHTML = `
    <div><span class="badge">Score</span> ${totalPoints} / ${maxTotal} (${percent}%)</div>
    <div style="margin-top:10px"><strong>Screening interpretation:</strong> ${probabilityLabel}</div>
    <div style="margin-top:8px"><strong>Suggested match:</strong> ${subtype}</div>
    <div style="margin-top:12px">
      <strong>High scoring areas:</strong>
      <ul>
        ${highAreas.length? highAreas.map(h=>`<li>${h.title} — ${h.pct}% of that area</li>`).join('') : '<li>None reached 60% in a specific area</li>'}
      </ul>
    </div>
    <div style="margin-top:12px" class="muted">
      <strong>Important:</strong> This tool is a screening aid only. A full clinical assessment uses developmental history, informant reports, observational tools (e.g., ADOS-2), and considers differential diagnoses and co-occurring conditions. See resources for next steps. :contentReference[oaicite:4]{index=4}
    </div>
  `;

  // show final results
  document.getElementById('quizContainer').style.display = 'none';
  document.getElementById('finalCard').style.display = 'block';
  // store final for download
  window.latestReport = { totalPoints, maxTotal, percent, probabilityLabel, subtype, highAreas, stageScores, stageMax, answers };
}

/* small utility: download a basic JSON report */
function downloadReport(){
  if(!window.latestReport){ alert('Complete the assessment first.'); return; }
  const data = window.latestReport;
  const blob = new Blob([JSON.stringify(data, null, 2)], {type:'application/json'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url; a.download = 'autism-screening-report.json';
  document.body.appendChild(a); a.click(); a.remove();
  URL.revokeObjectURL(url);
}

/* show / nav helpers */
function showSection(id){
  ['quizContainer','resources','guidance'].forEach(k => {
    const el = document.getElementById(k);
    if(!el) return;
    el.style.display = (id==='quiz' && k==='quizContainer') || (id==='resources' && k==='resources') || (id==='guidance' && k==='guidance') ? 'block' : 'none';
  });
  if(id==='about') {
    // scroll to top / show quiz by default
    document.getElementById('quizContainer').style.display = 'block';
    document.getElementById('resources').style.display = 'none';
    document.getElementById('guidance').style.display = 'none';
  }
}

/* restart */
function restart(){
  currentStage = 0;
  answers = {};
  stageScores.fill(0);
  // clear UI selections
  document.querySelectorAll('.opt').forEach(el => el.classList.remove('selected'));
  showStage(0);
  document.getElementById('finalCard').style.display = 'none';
  document.getElementById('quizContainer').style.display = 'block';
  updateScoreLabel();
}

window.onload = () => {
  mountQuiz();
  showSection('about');
};
</script>
</body>
</html>
